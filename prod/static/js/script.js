"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==(typeof e==="undefined"?"undefined":_typeof(e))&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e){n.d(i,a,function(t){return e[t]}.bind(null,a))}return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function i(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)}function a(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelectorAll(e)}function r(e,t){return Math.random()-.5}function o(e,t){return Math.floor(Math.random()*(t-e))+e}function s(){window.addEventListener("scroll",function(){a(".h-anim").forEach(function(e){var t,n;t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,t.top<=.65*n&&e.setAttribute("visible",!0)})})}function c(){var e,t;try{e=new Event("scroll")}catch(t){(e=document.createEvent("Event")).initEvent("scroll",!1,!1)}window.dispatchEvent(e);try{t=new Event("resize")}catch(e){(t=document.createEvent("Event")).initEvent("scroll",!1,!1)}window.dispatchEvent(t)}n.r(t);var l=function l(e){return getComputedStyle(e)};function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.els=t,this.callback=n,this.open=this.popupOpen,this.popupHide=this.popupHide,this.openFlag=!1,this.addListener()}var t,n,r;return t=e,(n=[{key:"addListener",value:function value(){var e=this;a(this.els).forEach(function(t){t.addEventListener("click",function(){e.popupOpen(t.getAttribute("data-src")),e.callback&&e.callback()})}),a(".js-popclose").forEach(function(t){t.addEventListener("click",function(){e.popupHide()})}),i(".js-popbg").addEventListener("click",function(){e.popupHide()})}},{key:"popupHide",value:function value(){this.openFlag&&(a(".popup").forEach(function(e){return e.classList.remove("show")}),document.body.classList.remove("popup-show"),this.openFlag=!1)}},{key:"popupOpen",value:function value(e){e&&(this.openFlag?a(".popup").forEach(function(e){return e.classList.remove("show")}):(document.body.classList.add("popup-show"),this.openFlag=!0),i(e).classList.add("show"))}}])&&u(t.prototype,n),r&&u(t,r),e}();function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inputs=a(".common__input, .common__textarea"),this.forms=a("form"),this.choices=a(".js-select"),this.digitsInput=a(".js-digits"),this.files=a(".js-common-file"),this.phones=a(".js-phone"),window.checkForm=this.constructor.checkForm,this.eventBinder()}var t,n,i;return t=e,i=[{key:"checkForm",value:function value(e){if(e){var t=!0,n=a(".warning");return n.length&&n.forEach(function(e){return e.classList.remove("warning")}),a("input, textarea, select",e).forEach(function(e){if(e.getAttribute("data-req"))switch(e.getAttribute("data-type")){case"tel":16!==e.value.length&&(e.classList.add("warning"),t=!1);break;case"email":/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(e.value)||(e.classList.add("warning"),t=!1);break;case"file":""===e.value.trim()&&(e.parentNode.classList.add("warning"),t=!1);break;case"select":"-1"===e.nextSibling.querySelector(".choices__item").getAttribute("data-value")&&(e.parentNode.classList.add("warning"),t=!1);break;default:""===e.value.trim()&&(e.classList.add("warning"),t=!1);}}),a("input[name^=agreement]",e).forEach(function(e){e.checked||(e.classList.add("warning"),t=!1)}),t}}}],(n=[{key:"eventBinder",value:function value(){var e=this;this.forms.forEach(function(t){t.addEventListener("submit",function(n){return!e.constructor.checkForm(t)&&n.preventDefault()&&n.stopPropagation()})});var t=[];if(this.phones.forEach(function(e){t.push(new IMask(e,{mask:"+{7}(000)000-00-00"}))}),this.choices.forEach(function(e){new Choices(e,{searchEnabled:!1,itemSelectText:"",position:"bottom",shouldSort:!1})}),this.digitsInput.forEach(function(e){e.addEventListener("keydown",function(e){-1!==[46,8,9,27,13,110,190].indexOf(e.keyCode)||65===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||67===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||88===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||e.keyCode>=35&&e.keyCode<=39||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()})}),this.files.length){var n=a(".js-common-fileinput"),i=a(".js-common-filedelete");n.forEach(function(e){e.addEventListener("change",function(t){var n=e.nextElementSibling,i=e.value.split("\\"),a=i[i.length-1].split("");""!==(a=a.length>=17?"".concat(a.slice(0,14).join(""),"..."):a.join(""))&&(n.textContent=a,n.classList.add("choosed"))})}),i.forEach(function(e){e.addEventListener("click",function(t){var n=e.previousElementSibling,i=e.previousElementSibling.previousElementSibling;n.textContent=n.getAttribute("data-default"),i.value="",n.classList.remove("choosed")})})}}}])&&d(t.prototype,n),i&&d(t,i),e}();function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.burgerEl=document.querySelector(".js-burger"),this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function value(){var e=this;this.burgerEl.addEventListener("click",function(t){document.body.classList.toggle("burgeropen"),e.burgerEl.classList.contains("open")?(e.burgerEl.classList.add("remove"),setTimeout(function(){e.burgerEl.classList.remove("open","remove")},1e3)):e.burgerEl.classList.add("open"),t.preventDefault()})}}])&&h(t.prototype,n),i&&h(t,i),e}();function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var m=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=i(t),this.btnEl=a(n),ymaps.ready(this.init.bind(this)),this.btnEl.length&&this.addListener()}var t,n,r;return t=e,(n=[{key:"init",value:function value(){var e=this,t=this.el.getAttribute("data-officepin"),n=this.el.getAttribute("data-housepin"),i=this.el.getAttribute("data-center").split(":"),a=this.el.getAttribute("data-office").split(":");this.myMap=new ymaps.Map(this.el,{center:[parseFloat(i[0]),parseFloat(i[1])],zoom:14,controls:["smallMapDefaultSet"]}),this.myMap.behaviors.disable("scrollZoom"),this.el.dataset.locations.split(", ").forEach(function(t){var i=t.split(":"),a=new ymaps.Placemark([parseFloat(i[0]),parseFloat(i[1])],{},{iconLayout:"default#image",iconImageSize:[31,34],iconImageHref:n,iconImageOffset:[-32,-42]});e.myMap.geoObjects.add(a)});var r=new ymaps.Placemark([parseFloat(a[0]),parseFloat(a[1])],{},{iconLayout:"default#image",iconImageSize:[31,34],iconImageHref:t,iconImageOffset:[-32,-42]});this.myMap.geoObjects.add(r)}},{key:"addListener",value:function value(){var e=this;this.btnEl.forEach(function(t){t.addEventListener("click",function(){var n=t.getAttribute("data-coords").split(":");e.myMap.setCenter([parseFloat(n[0]),parseFloat(n[1])],18)})})}}])&&g(t.prototype,n),r&&g(t,r),e}();function y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.newsCarEl=t,this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function value(){new Swiper(this.newsCarEl,{spaceBetween:36,slidesPerView:2,navigation:{nextEl:".js-news-next",prevEl:".js-news-prev"},breakpoints:{670:{slidesPerView:1,spaceBetween:15,autoHeight:!0},1600:{spaceBetween:30}}})}}])&&y(t.prototype,n),i&&y(t,i),e}();function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var E=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.popupCarousel=t,this.popupCarousel&&this.popupCarouselInit()}var t,n,i;return t=e,(n=[{key:"popupCarouselInit",value:function value(){var e=new Swiper(this.popupCarousel,{slidesPerView:"auto",scrollbar:{el:".js-history-scrollbar",draggable:!0}});window.addEventListener("resize",function(){e.updateSize()})}}])&&w(t.prototype,n),i&&w(t,i),e}();function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".js-decor";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.decorEl=t,a(this.decorEl)&&this.init()}var t,n,i;return t=e,i=[{key:"generateOne",value:function value(e){var t=e.dataset,n=t.type,i=t.height,a=["big","medium","small"],s=["left","middle","right"];a.sort(r),s.sort(r);for(var c=0;c<3;c+=1){var l=o(.2*i,i),u=o(0,i-l);e.insertAdjacentHTML("beforeend","<span class=\"decor__elem\" \n          data-type=\"".concat(n,"\" \n          data-size=\"").concat(a[c],"\" \n          data-position=\"").concat(s[c],"\"\n          style=\"height: ").concat(l,"px; top: ").concat(u,"px\"\n          ></span>"))}}}],(n=[{key:"init",value:function value(){var e=this;a(this.decorEl).forEach(function(t){return e.constructor.generateOne(t)})}}])&&k(t.prototype,n),i&&k(t,i),e}();function L(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var C=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.faqEl=a(t),this.faqEl.length&&this.eventInit()}var t,n,i;return t=e,(n=[{key:"eventInit",value:function value(){var e=this.faqEl;e.forEach(function(t){t.addEventListener("click",function(){t.classList.contains("open")||e.forEach(function(e){return e.classList.remove("open")}),t.classList.toggle("open")})})}}])&&L(t.prototype,n),i&&L(t,i),e}();function x(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++){n[t]=e[t]}return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function S(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var O=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.galEl=t,this.itemEls=n,this.filterEl=r,this.galInst=!1,i(this.galEl)&&a(this.itemEls).length&&this.galleryInit(),i(this.filterEl)&&this.filterInit()}var t,n,r;return t=e,(n=[{key:"galleryInit",value:function value(){this.galInst?window.lgData[i(this.galEl).getAttribute("lg-uid")].destroy(!0):this.galInst=!0,lightGallery(i(this.galEl),{selector:".projects__elem:not(.hide) ".concat(this.itemEls)})}},{key:"filterInit",value:function value(){var e=this;a(this.filterEl).forEach(function(t){t.addEventListener("click",function(){t.classList.contains("active")||(a(e.filterEl).forEach(function(e){return e.classList.remove("active")}),a(e.itemEls).forEach(function(e){return e.parentNode.classList.remove("hide")}),t.classList.add("active"),x(a(e.itemEls)).filter(function(e){return e.dataset.day!==t.dataset.day&&""!==t.dataset.day}).forEach(function(e){return e.parentNode.classList.add("hide")}),c(),e.galleryInit())})})}}])&&S(t.prototype,n),r&&S(t,r),e}();function I(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var A=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.moverEl=t,this.stickyEl=n,i(t)&&this.bindMover(),i(n)&&this.bindSticky()}var t,n,r;return t=e,(n=[{key:"bindMover",value:function value(){var e=a(this.moverEl);e.forEach(function(e){e.setAttribute("data-left","0")}),window.addEventListener("scroll",function(){e.forEach(function(e){var t=e.getBoundingClientRect(),n=parseInt(l(e).height,10),i=window.innerHeight||document.documentElement.clientHeight;if(t.top+n>=0&&t.bottom-n<=i){var a=t.bottom-n-i;e.style.left="".concat(+e.getAttribute("data-left")+.45*a,"px")}})})}},{key:"bindSticky",value:function value(){var e=i(this.stickyEl),t=i(".js-about-stickyParent"),n=i(".js-fixer-progress"),r=i(".js-fixer-counter"),o=a(".js-fixer-sq"),s=window.innerHeight||document.documentElement.clientHeight;window.addEventListener("resize",function(){var e;s=window.innerHeight||document.documentElement.clientHeight;try{e=new Event("scroll")}catch(t){(e=document.createEvent("Event")).initEvent("scroll",!1,!1)}window.dispatchEvent(e)}),window.addEventListener("scroll",function(){var i=t.getBoundingClientRect(),a=parseInt(l(t).height,10)-s,c=0;o.forEach(function(e){e.getBoundingClientRect().top-s<=0&&(c+=parseFloat(e.dataset.sq))}),i.top<=0&&i.bottom-s>=0?(e.style.top="0px",e.style.left="".concat(Math.abs(i.left),"px"),n.style.height="".concat(100*Math.abs(i.top)/a,"%"),r.textContent=c.toFixed(1),r.parentNode.classList.remove("hide"),e.classList.add("fixed")):i.top>0?(e.style.top="0px",e.style.left="0px",n.style.height="0%",r.parentNode.classList.add("hide"),e.classList.remove("fixed")):(e.classList.remove("fixed"),e.style.top="".concat(a,"px"),e.style.left="0px",n.style.height="100%")})}}])&&I(t.prototype,n),r&&I(t,r),e}();function P(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var M=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rangeEl=t,i(this.rangeEl)&&this.rangeInit(),this.sliderEl=n,i(this.sliderEl)&&this.sliderInit()}var t,n,r;return t=e,(n=[{key:"rangeInit",value:function value(){var e=i(this.rangeEl),t=e.previousElementSibling,n=+e.getAttribute("data-min"),a=+e.getAttribute("data-max"),r=+e.getAttribute("data-from")||n,o=+e.getAttribute("data-to")||a,s=0;noUiSlider.create(e,{start:[r,o],connect:!0,step:1e3,range:{min:n,max:a}});var c=[i(".js-range-from"),i(".js-range-to")];c.forEach(function(t){t.addEventListener("change",function(){var t=[];c.forEach(function(e){return t.push(parseInt(e.value.replace(/\s/g,""),10))}),e.noUiSlider.set(t)})}),e.noUiSlider.on("update",function(e,n){if(c[n].value=(+e[n]).toString().replace(/\B(?=(\d{3})+(?!\d))/g," "),t.value=e.map(function(e){return+e}).join(":"),s<2){s+=1;var i=new Event("keyup");c[n].dispatchEvent(i)}})}},{key:"sliderInit",value:function value(){lightGallery(i(this.sliderEl),{selector:".catalog__slide"});new Swiper(this.sliderEl,{speed:700,slidesPerView:"auto",spaceBetween:36,loop:!0,loopedSlides:a(".swiper-slide",i(this.sliderEl)).length,navigation:{nextEl:"".concat(this.sliderEl," ~ .swiper-buttons .swiper-button-next"),prevEl:"".concat(this.sliderEl," ~ .swiper-buttons .swiper-button-prev")},breakpoints:{1600:{spaceBetween:30}}})}}])&&P(t.prototype,n),r&&P(t,r),e}();document.addEventListener("DOMContentLoaded",function(){var e,t;new v;if(e=document.querySelectorAll("table"),t=[],e.length&&(e.forEach(function(e,n){var i=e.outerHTML;e.outerHTML="<div class='table-scroller".concat(n,"'>").concat(i,"</div>");var a=new PerfectScrollbar(".table-scroller".concat(n),{wheelPropagation:!0});t.push(a)}),window.addEventListener("resize",function(){t.length&&t.forEach(function(e){e.update()})})),a(".h-anim").length&&s(),i("[data-popup]")&&(window.popup=new f("[data-popup]")),i(".js-news"))new b(".js-news");if(i(".js-news"))new E(".js-popup-history");if(i("form"))new p;if(i(".js-decor"))new j;if(i(".js-faq-opener"))new C(".js-faq-opener");if(i(".js-gallery"))new O(".js-gallery",".projects__elem-href",".js-gallery-filter");if(i(".js-about-mover"))new A(".js-about-mover",".js-about-sticky");if(i(".js-range")||i(".js-cat-slider"))new M(".js-range",".js-cat-slider");if(screen.width>=768)window.onload=function(){document.body.classList.add("load"),c();var e=2e3;document.body.classList.contains("index")&&(e=5700),setTimeout(function(){if(document.body.classList.add("load-end"),i(".js-contacts-map"))new m(".js-contacts-map",".js-contacts-btn")},e)};else if(i(".js-contacts-map"))new m(".js-contacts-map",".js-contacts-btn");window.addEventListener("resize",function(){var e=i(".main"),t=i(".footer");t.removeAttribute("style");var n=parseInt(l(e).height,10);n<window.innerHeight&&(t.style.marginTop="".concat(window.innerHeight-n,"px"))}),!navigator.userAgent.match(/safari/i)||navigator.userAgent.match(/chrome/i)||void 0===document.body.style.webkitFilter||window.chrome||document.body.classList.add("ios")})}]);